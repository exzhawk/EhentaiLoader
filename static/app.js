// Generated by CoffeeScript 1.10.0
(function() {
  var ehentaiLoaderApp;

  ehentaiLoaderApp = angular.module('ehentaiLoaderApp', []);

  ehentaiLoaderApp.controller('NavBar', [
    '$http', function($http) {
      var search_result;
      this.queue_count = 0;
      this.download_count = 0;
      this.search_keyword = '';
      this.search_result = [];
      search_result = this.search_result;
      this.do_search = function() {
        return $http.post('/search', {
          q: this.search_keyword
        }).success(function(data) {
          return search_result = data['posts'];
        });
      };
      return this;
    }
  ]);

  ehentaiLoaderApp.controller('LoginModal', [
    '$http', function($http) {
      var $loginModal;
      this.username = '';
      this.password = '';
      $loginModal = $('#loginModal');
      $loginModal.modal({
        backdrop: 'static'
      });
      this.do_login = function() {
        console.log(this.username);
        if (this.username.length === 0) {
          return $http.get('/login').success(function(data) {
            if (data['isLogin']) {
              return $loginModal.modal('hide');
            } else {
              return console.log('notlogin');
            }
          });
        } else {
          return $http.post('/login', {
            username: this.username,
            password: this.password
          }).success(function(data) {
            if (data['isLogin']) {
              return $loginModal.modal('hide');
            } else {
              return console.log('loginfail');
            }
          });
        }
      };
      return this;
    }
  ]);

}).call(this);

//# sourceMappingURL=app.js.map
